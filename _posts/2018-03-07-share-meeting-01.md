---
layout: post
title: "第一次技术分享会记录 网络"
tags: [网络编程, tcp, 技术分享会]
comments: true
date: 2018-03-07 21:00:00+08:00
---


##### 分享会日期：2018-03-07
##### 持续时间：17:00-21:00，4个小时

>新的一年里，想让自己有些改变、有些进步、有些其他方面的尝试，于是在公司面向技术同事组织了分享会，未来很长一段时期，应该都会由我来主持和主讲，因此在此做些记录，记录下成长轨迹。

>顺序可能有点乱，因为都是即兴发挥，脱稿讲解，可能有很多不足之处，希望能包涵。。。。

##### 一. 以太网层面

1. 介绍以太网传输中的数据形式、介质
2. 引出以太网帧的概念，介绍前导，帧头，最小帧体大小和MTU
3. 介绍由SMAC、DMAC定位的在以太网中的帧传递


##### 二. Ip网络层面

1. 以太网帧无法实现的功能，如大数据传输，保证顺序，根据Ip定位等等
2. 引出Ip数据报的概念
3. 介绍Ip数据报头，报头中字段含义，引出根据偏移拼包分包的概念
4. Ip数据报在网络中多路由间传递的过程


##### 三. Tcp传输控制层

1. Ip网络层无法实现的功能，如更大数据的传递，速度的控制，丢包的补偿以及整个过程流式的概念
2. 引出Tcp协议的概念
3. 介绍Tcp协议的协议头，其中各个字段的含义
4. 着重讲解端口对端口的概念，来介绍tcp可以完成或者无法完成的部分、以及socket的含义 
5. 用三次握手、四次挥手来介绍协议头中的syn、seq、ack、fin等等字段的具体含义和作用
6. 介绍滑动窗口的概念以及此设计在其他方面的应用
7. 介绍tcp中最简单的delay算法，其好处和有点，以及不足，衍生到其他使用delay的架构，比如kafka队列消费的consumer commit interval等等
8. 上述一些东西在实际开发中会带来的一些问题，比如黏包等等，以及解决方案


##### 四. 应用层

1. 具体从以太网帧 --> Ip网络层 --> Tcp传输控制层 流程具体到应用层如何体现、如何应用
2. 引出Http服务器的具体设计和服务（http server）
3. Tcp流式的概念在应用层是如何体现的
4. 常规的网络开发中，buffer的概念和注意点，accept、read、write的使用等等
5. 黏包等问题如何解决
6. socks5协议的介绍，其如何通过模拟高层协议装载低层协议的方式实现了tcp、udp的代理


##### 五. 基本运维

1. 介绍几次业务中的系统负载高的事件案例，分析如何去排查问题（CPU、IO、网络）
2. 引出系统进程的几个状态（R、D、T、S）等等，介绍其状态的含义，原因，和在具体负载中的体现
3. 再引出CPU的线程切换的成本、线程切换基本的概念
4. 再引出程序的内存空间、内核态用户态、栈、堆等等


> 这次分享到此为止，下周会继续，主题将是这些网络知识在现在代理项目中的具体应用和实现